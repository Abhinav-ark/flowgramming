function openNewTab(e,n){return window.open(e,n)}preventIndependentOpen=()=>{"localhost"===window.location.hostname||window.opener||(window.location.href="/")};const signingKey="Flowgramming";function saveFlowChart(){switchContext();saveFile("Untitled.fgmin",JSON.stringify(JSON.decycle({signingKey:signingKey,contexts:contexts})))}function importFlowGram(e){try{const n=JSON.retrocycle(JSON.parse(e));if(n.signingKey!==signingKey)return void swal("Flowgramming doesn't support that file!");contexts=n.contexts,currentContextName="main",graph.fromJSON(contexts[currentContextName].graph),paper.fitToContent({padding:20,minWidth:paperColumn.width(),minHeight:paperColumn.height(),gridWidth:10,gridHeight:10}),start=findModel(contexts[currentContextName].start.id),updateContextsDropdown()}catch(e){swal("Something went wrong!")}finally{clearChat(),renderProgram("Start Flowgramming!"),hideLoader()}}function openFromFile(e){showLoader("Importing","Please wait while your flowgram is imported"),setTimeout(()=>{importFlowGram(e)},1e3)}function saveFile(e,n){const t=new Blob([n],{type:"application/json;charset=utf-8"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{const n=document.getElementById("save-btn");n.href=URL.createObjectURL(t),n.download=e}}